<html>
<head>
    <title> Find a Chord Progression</title>
</head>
<body>
    <form>
        Enter notes in your melody
        <input id= "notes" type="text" />
        <input id="search" type="submit" valaue="Search"/>
    </form> 

    <div id="output">
    </div>

<script>
    <script language="javascript">
$("#search").click(function(e) {
    var key   = parseInt($("#key").val(), 10);
    var minor = parseInt($("#minor").val(), 10);
    var major = parseInt($("#major").val(), 10);


    $.get("file:///C:/Users/Sophia/Documents/Programming%20Class/final%20project%20sql%201%20.sql" + key + major + minor, function(progression) {
        let html = '';


        for (let t of transpose) {
            html += ' = <a href="' + t.premium_url + '" target="_blank">Premium</a>';
        }
        html += '</p>';
    }

    $("output".html(html);


const pg = require('pg'),
      cfg = require('./config');

const pool = new pg.Pool({
  database: cfg.mydb
});

module.exports = pool;
    });
});


const pg = require('../pg'),
      cors = require('koa2-cors'),
      koa = require('koa');

const app = new koa();

app.use(cors({ origin: '*' }));
app.use(async (ctx) => {
  let [url] = ctx.request.url.split('?'),
      [key, major, minor] = url.substr(1).split('/').slice(-2);

  let { rows: transpose } = await pg.query( [key, major, minor]);


console.log("Searching for chords for " + key + major + minor)
}
</script>



















</script>
</body>
</html>